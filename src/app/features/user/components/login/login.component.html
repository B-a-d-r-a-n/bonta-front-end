<div class="flex items-center justify-center py-12 px-4">
  <p-card styleClass="w-full max-w-md shadow-2xl rounded-2xl overflow-hidden">
    <ng-template pTemplate="header">
      <div
        class="bg-gray-100 dark:bg-gray-800 p-8 text-center border-b dark:border-gray-700"
      >
        <h2 class="text-3xl font-bold">Welcome Back!</h2>
        <p class="text-gray-600 dark:text-gray-300">
          Sign in to continue your shopping journey.
        </p>
      </div>
    </ng-template>

    <form
      [formGroup]="loginForm"
      (ngSubmit)="onSubmit()"
      class="flex flex-col gap-6 p-6"
    >
      <!-- Email Field -->
      <div class="flex flex-col gap-1">
        <label
          for="email"
          class="font-semibold text-gray-700 dark:text-gray-300"
          >Email Address</label
        >
        <p-iconField iconPosition="left">
          <p-inputIcon class="pi pi-envelope"></p-inputIcon>
          <input
            pInputText
            id="email"
            formControlName="email"
            placeholder="you@example.com"
            class="w-full"
            [class.p-invalid]="isInvalid('email')"
            aria-label="Email address"
          />
        </p-iconField>
        @if (isInvalid('email')) {
        <p-message
          severity="error"
          styleClass="mt-1"
          [text]="
            email?.hasError('required')
              ? 'Email is required.'
              : 'Please enter a valid email.'
          "
        ></p-message>
        }
      </div>

      <!-- Password Field -->
      <div class="flex flex-col gap-1">
        <label
          for="password"
          class="font-semibold text-gray-700 dark:text-gray-300"
          >Password</label
        >
        <p-password
          id="password"
          formControlName="password"
          placeholder="Enter your password"
          [toggleMask]="true"
          [feedback]="false"
          styleClass="w-full"
          inputStyleClass="w-full"
          [class.p-invalid]="isInvalid('password')"
          aria-label="Password"
        />
        @if (isInvalid('password')) {
        <p-message
          severity="error"
          styleClass="mt-1"
          text="Password is required."
        ></p-message>
        }
      </div>

      <!-- General Error Message -->
      @if (errorMessage()) {
      <p-message severity="error" [text]="errorMessage()!"></p-message>
      }

      <!-- Submit Button -->
      <p-button
        type="submit"
        label="Sign In"
        [loading]="isLoading()"
        [disabled]="loginForm.invalid || isLoading()"
        styleClass="w-full justify-center"
        size="large"
        aria-label="Sign In"
      ></p-button>
    </form>

    <ng-template pTemplate="footer">
      <div
        class="text-center text-sm text-gray-600 dark:text-gray-400 p-6 border-t border-gray-200 dark:border-gray-700"
      >
        <span>Don't have an account? </span>
        <a
          routerLink="/user/register"
          class="font-semibold text-primary-600 hover:underline dark:text-primary-400"
        >
          Sign up now
        </a>
      </div>
    </ng-template>
  </p-card>
</div>
